<HTML>
<CENTER><A HREF = "Section_python.html">Previous Section</A> - <A HREF = "http://www.sandia.gov/~sjplimp/phish.html">PHISH WWW Site</A> -
<A HREF = "Manual.html">PHISH Documentation</A> - <A HREF = "Manual.html">Next Section</A> 
</CENTER>




<HR>

<H3>7. Errors 
</H3>
<P>This section discusses error and warning messages generated by the
PHISH library and bait.py and bait.py tools.  It also gives tips on
debugging the operation of PHISH nets.
</P>
<P>7.1 <A HREF = "#error_1">Debugguing PHISH nets</A>
7.2 <A HREF = "#error_2">Error and warning messages from the PHISH library</A>
7.3 <A HREF = "#error_3">Error messages from bait.py</A>
</P>
<HR>

<HR>

<H4><A NAME = "error_1"></A>Debugguing PHISH nets 
</H4>
<P>A PHISH net can be difficult to debug because it may involve many
independent running processes exchanging datums in a complex pattern,
and rapid processing of large volumes of data.  Here are some ideas
that may be helpful in finding a bug if something goes wrong:
</P>
<UL><LI>As with any parallel program, running on as few processors as possible
(that still exhibit the bug) simplifies debugging.  For a PHISH net,
each minnow is a process, but you may be able to reduce the minnow
count via the <A HREF = "bait_school.html">school</A> command in the PHISH input
script. 

<LI>In principle, a PHISH net should behave similarly whether it is run
entirely on a desktop machine, on a large parallel machine, or on a
distributed network.  Running all minnows on a single desktop machine
is almost always the easiest mode to debug in. 

<LI>One or more <A HREF = "slowdown.html">slowdown</A> minnows can be inserted in a
PHISH net to slow down the rate at which datums are processed. 

<LI>The <A HREF = "print.html">print</A> minnow can receive the output of any minnow and
print it to the screen.  This is done by using the
<A HREF = "bait_hook.html">hook</A> command in a PHISH input script.  The output of
a minnow can be connected to a print minnow in addition to other
minnows.  Also note that hooking a minnow's output port to another
input port is optional, as discussed in <A HREF = "Section_minnows.html#minnow_3">this
section</A>.  This means that you can often
debug a PHISH net in stages by commenting out downstream minnows and
then turning them on one at a time. 

<LI>Printf() or fprintf() statements can be added to a minnow's source
code to print messages to the screen or a file when datums are
received, processed, or sent.  Doing this stage by stage, beginning
with the first datums read or generated by the PHISH input script, is
an effective way to verify that datums are formatted correctly, and
are being sent and received as expected. 
</UL>
<HR>

<H4><A NAME = "error_2"></A>Error and warning messages from the PHISH library 
</H4>
<P>When a minnow makes a call to the PHISH library, various error and
warning conditions are checked for.  If an error is encoutered, a
message in one of the following formats is printed to stderr:
</P>
<PRE>PHISH MPI ERROR: Minnow str1 ID str2 # N: message
PHISH SOCKET ERROR: Minnow str1 ID str2 # N: message 
</PRE>
<P>MPI means the MPI version of the PHISH library is being used; SOCKET
means the socket version is being used.  Str1 is the name of the
minnow executable (e.g. count).  Str2 is the ID of the minnow as
specified in the PHISH input script via the "minnow" command.  N is
the global ID of the minnow process.  This is a number from 0 to
Nglobal-1 where Nglobal = the total number of minnows in the PHISH net
as specified by the input script.  This information may be useful in
debugging the minnow or PHISH input script.
</P>
<P>If a warning condition is detected, the same format of message is
printed, with ERROR replaced by WARNING.
</P>
<P>TIM: say something about whether errors cause an exit or a return flag
to the calling minnow
</P>
<P>The messages should be self-explanatory.  See the doc page for the
<A HREF = "Section_library.html<A HREF = "Section_library.html#library_1">individual">>PHISH library</A>, or the doc pages for <A HREF = </A>
PHISH library functions</A> for relevant
details.  If necessary, the library source code in
src/phish-common.cpp or src/phish-mpi.cpp or src/phish-zmq.cpp can be
searched for the message text.
</P>
<HR>

<H4><A NAME = "error_3"></A>Error messages from bait.py 
</H4>
<P>As discussed in <A HREF = "Section_bait.html">this section</A>, the bait.py tool is
used to process PHISH input scripts and optionally run them.  Any
errors that bait.py encounters in the input script generate error
messages that should be self-explanatory.
</P>
<P>See the doc page for the <A HREF = "Section_bait.html<A HREF = "Section_bait.html#bait_1">individual">>bait.py</A> tool, or the doc
pages for <A HREF = </A> PHISH input script
commands</A> for relevant details.  If
necessary, the Python source code in bait/bait.py can be searched for
the message text.
</P>
</HTML>
