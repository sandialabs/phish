<HTML>
<CENTER><A HREF = "Section_python.html">Previous Section</A> - <A HREF = "http://www.sandia.gov/~sjplimp/phish.html">PHISH WWW Site</A> -
<A HREF = "Manual.html">PHISH Documentation</A> - <A HREF = "Manual.html">Next Section</A> 
</CENTER>




<HR>

<H3>7. Errors 
</H3>
<P>This section discusses error and warning messages generated by the
PHISH library and bait.py and launch.py tools.  It also gives tips on
debugging the operation of PHISH nets.
</P>
<UL><LI>7.1 <A HREF = "#error_1">Debugguing PHISH nets</A>
<LI>7.2 <A HREF = "#error_2">Error and warning messages from the PHISH library</A>
<LI>7.3 <A HREF = "#error_3">Error messages from bait.py</A>
<LI>7.4 <A HREF = "#error_4">Error messages from launch.py</A> 
</UL>
<HR>

<HR>

<H4><A NAME = "error_1"></A>Debugguing PHISH nets 
</H4>
<P>A PHISH net can be difficult to debug because it may involve many
independent running processes exchanging datums in a complex pattern
and rapid processing of large volumes of data.  Here are some ideas
that may be helpful in finding the bug if something goes wrong:
</P>
<UL>As with any parallel program, running it on as few processors as
possible (that still exhibit the bug) simplifies debugging.  For a
PHISH net, each minnow is a rocess, but you may be able to reduce the
minnow count via the <A HREF = "bait_school.html">school</A> command in the PHISH
input script. 
<BR>
In principle, a PHISH net should behave similarly whether it is run
entirely on one desktop machine, on a large parallel machine, or on a
distribud network.  The first case, running all minnows on a single
desktop machine, is usually the easiest mode to debug in. 
<BR>
One or more "slowdown" minnows can be inserted in a pipeline to slow
down the rate at which datums are processed. 
<BR>
The <A HREF = "print.html">print</A> minnow can receive the output of any minnow and
print it to the screen.  This is done by using the
<A HREF = "bait_hook.html">hook</A> command in a PHISH input script.  The
output of a minnow can be connected to a print minnow in addition to
other minnows.  Also note that use of a minnow's output port by an
input script is optional, as discussed in <A HREF = "Section_minnows.html#minnow_3">this
section</A>, so that downstream minnows can
often be commented out to focus debugging on earlier stages of the
data processing pipeline. 
<BR>
Alternatively, printf() or fprintf() statements can be added to a
minnow's source code to print messages to the screen or a file when
datums are received, processed, or sent.  Doing this stage by stage,
beginning with the first datums read or generated by the PHISH input
script, is an effective way to verify that datums are formatted
correctly, and are being sent and received as expected. 
</UL><BR>
<HR>

<H4><A NAME = "error_2"></A>Error and warning messages from the PHISH library 
</H4>
<P>When a minnow makes a call to the PHISH library, various error and
warning conditions are checked for.  If an error is encoutered a
message in the following format is printed to stderr:
</P>
<PRE>PHISH MPI ERROR: Minnow str1 ID str2 # N: message 
</PRE>
<P>if the MPI version of the PHISH library is being used; MPI is replaced
by SOCKET if the socket version is being used.
</P>
<P>NOTE: say something about whether error causes an exit
or returns to the calling minnow
</P>
<P>Str1 is the name of the minnow executable (e.g. count).  Str2 is the
ID of the minnow as specified in the PHISH input script via the
"minnow" command.  N is the global ID of the minnow process.  This is
a number from 0 to Nglobal-1 where Nglobal = the total number of
minnows in the PHISH net as specified by the input script.  This
information may be useful in debugging the minnow or PHISH input
script.
</P>
<P>If a warning condition is detected, the same format of message is
printed, with ERROR replaced by WARNING.
</P>
<P>The messages should be self-explanatory.  See the doc page for the
<A HREF = "Section_library.html<A HREF = "Section_library.html#library_1">individual">>PHISH library</A>, or the doc pages for <A HREF = </A>
PHISH library functions</A> for relevant
details.  If necessary, the library source code in src/phish-mpi.cpp
or src/phish-socket.cpp can be searched for the message text.
</P>
<HR>

<H4><A NAME = "error_3"></A>Error messages from bait.py 
</H4>
<P>As discussed in <A HREF = "Section_bait.html">this section</A>, the bait.py tool is
used to convert PHISH input scripts into an output file that is used
to launch a PHISH run.  Any errors it encounters in the input script
generate an error message of this form:
</P>
<PRE>Bait.py error: message 
</PRE>
<P>NOTE: check this syntax.
</P>
<P>The messages should be self-explanatory.  See the doc page for the
<A HREF = "Section_bait.html<A HREF = "Section_bait.html#bait_1">individual">>bait.py</A> tool, or the doc pages for <A HREF = </A>
PHISH input script commands</A> for relevant
details.  If necessary, the Python source code in bait/bait.py can be
searched for the message text.
</P>
<HR>

<H4><A NAME = "error_4"></A>Error messages from bait.py 
</H4>
<P>As discussed in <A HREF = "Section_intro.html#intro_4">this section</A>, the
launch.py tool is used to run a PHISH net whose minnows are built with
the socket version of the PHISH library.  Any errors it encounters 
at launch time generate an error message of this form:
</P>
<PRE>Launch.py error: message 
</PRE>
<P>NOTE: check this syntax.
</P>
<P>The messages should be self-explanatory.  See the doc page for the
<A HREF = "Section_intro.html#intro_4">launch.py</A> tool for relevant details.  If
necessary, the Python source code in python/launch.py can be searched
for the message text.
</P>
<P>TIM: check this section
</P>
</HTML>
