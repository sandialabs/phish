<HTML>
<CENTER><A HREF = "Section_library.html">Previous Section</A> - <A HREF = "http://www.sandia.gov/~sjplimp/phish.html">PHISH WWW Site</A> -
<A HREF = "Manual.html">PHISH Documentation</A> - <A HREF = "Section_python.html">Next Section</A> 
</CENTER>




<HR>

<H3>5. Examples 
</H3>
<P>Below is the list of PHISH input scripts provided in the example
directory of the distribution.  Many of them use minnows which come in
2 flavors, written in C++ or Python.  The scripts can thus be edited
to use all C++ or all Python minnows or a mixture of the two in the
same PHISH net.  See the comment lines at the top of each script for
instructions on what variables can be defined via command-line
arguements to the <A HREF = "Section_bait.html">bait.py</A> tool.
</P>
<UL><LI><A HREF = "#chain">in.chain</A>
<LI><A HREF = "#filelist">in.filelist</A>
<LI><A HREF = "#hash">in.hash</A>
<LI><A HREF = "#hook">in.hook</A>
<LI><A HREF = "#pingpong">in.pingpong</A>
<LI><A HREF = "#rmat">in.rmat</A>
<LI><A HREF = "#sgi">in.sgi</A>
<LI><A HREF = "#slow">in.slow</A>
<LI><A HREF = "#tri">in.tri</A>
<LI><A HREF = "#wordcount">in.wordcount</A>
<LI><A HREF = "#wrapsink">in.wrapsink</A>
<LI><A HREF = "#wrapsource">in.wrapsource</A>
<LI><A HREF = "#wrapsourcefile">in.wrapsourcefile</A>
<LI><A HREF = "#wrapss">in.wrapss</A> 
</UL>
<HR>

<HR>

<H4><A NAME = "pingpong"></A>in.pingpong 
</H4>
<P>These scripts ping-pong a message back-and-forth between 2 minnows,
<A HREF = "ping.html">ping</A> and <A HREF = "pong.html">pong</A>.  Each minnow is connected to
the other and they exchange a M byte message N times.
</P>
<P>Here is an example of how to run the script with bait.py:
</P>
<PRE>python ../bait/bait.py -v m 1000 -v n 100 -p ../minnow < in.pp 
</PRE>
<HR>

<H4><A NAME = "wordcount"></A>in.wordcount 
</H4>
<P>These script perform a word frequency count across a set of input text
files, similar to a MapReduce operation.  It uses the
<A HREF = "filegen.html">filegen</A>, <A HREF = "readfile.html">readfile</A>, <A HREF = "count.html">count</A>,
<A HREF = "sort.html">sort</A>, and <A HREF = "print.html">print</A> minnows, connected as
diagramed in <A HREF = "Section_intro.html#intro_5">this section</A> of the
<A HREF = "Section_intro.html">Introduction</A>.
</P>
<P>The scripts can perfrom the operation in parallel by changing the size
of the school of <A HREF = "readfile.html">readfile</A> and <A HREF = "count.html">count</A>
minnows in the <A HREF = "bait_school.html">school</A> commands within the input
script.  They can process a large corpus of files by specifying one or
more directory names as arguments to the <A HREF = "filegen.html">filegen</A>
minnow.
</P>
<P>Here is an example of how to run the script with bait.py:
</P>
<PRE>../bait/bait.py -v files in.* -p ../minnow < in.wc 
</PRE>
<P>make Nmap and Nreduce variables
</P>
<HR>

<H4><A NAME = "wrapsink"></A>in.wrapsink 
</H4>
<P>These scripts demonstrate the use of the <A HREF = "wrapsink.html">wrapsink</A>
minnow which is used to wrap a non-PHISH application.  The program
reads from stdin to receive messages sent to it from other minnows,
and writes directly to stdout.
</P>
<P>In this case the "reverse" program in the minnows directory is wrapped
and it reverses each filename in a list of input filenames.  Multiple
copies of <A HREF = "reverse.html">reverse</A> can be launched by changing the size
of the school of <A HREF = "wrapsink.html">wrapsink</A> minnows in the
<A HREF = "bait_school.html">school</A> commands within the input script.
</P>
<P>Here is an example of how to run the script with bait.py:
</P>
<PRE>../bait/bait.py -v files in.* -p ../minnow < in.wrapsink 
</PRE>
<P>make school arg a variable
</P>
<HR>

<H4><A NAME = "wrappss"></A>in.wrapss 
</H4>
<P>These scripts are similar to the preceding in.wrapsink scripts.  They
reverse each filename in a list of input filenames.  In this case the
<A HREF = "reverse.html">reverse</A> program is wrapped with the
<A HREF = "wrapss.html">wrapss</A> tool which lets the program read from stdin to
receive messages sent to it from other minnows, and sends the output
it writes to stdout as messages to downstream minnows, in this case
the <A HREF = "print.html">print</A> minnow.  As before, multiple copies of
<A HREF = "reverse.html">reverse</A> can be launched by changing the size of the
school of <A HREF = "wrapss.html">wrapss</A> minnows in the
<A HREF = "bait_school.html">school</A> commands within the input script.
</P>
<P>Here is an example of how to run the script with bait.py:
</P>
<PRE>../bait/bait.py -v files in.* -p ../minnow < in.wrapss 
</PRE>
<P>make school arg(s) a variable
</P>
<HR>

<H4><A NAME = "wrapsource"></A>in.wrapsource 
</H4>
<P>what does this do?
does it exist?
</P>
</HTML>
