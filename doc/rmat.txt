"PHISH WWW Site"_pws - "PHISH Documentation"_pd - "Bait.py Commands"_pc :c

:link(pws,http://phish.sandia.gov)
:link(pd,Manual.html)
:link(pc,Bait.html)

:line

rmat minnow :h3

[Syntax:]

rmat N Nlevel a b c d fraction seed :pre

N = # of matrix elements or edges to generate
Nlevel = order of RMAT matrix = 2^Nlevel
a,b,c,d = quadrant weighting factors which sum to 1.0
fraction = twiddle factor
seed = random number generator seed (positive integer) :ul

[Examples:]

rmat 10000 20 0.25 0.25 0.25 0.25 0.1 12345
rmat 1000000 30 0.45 0.25 0.25 0.05 0.0 8787843 :pre

[Description:]

Rmat is a PHISH minnow that can be used in a PHISH program.  In PHISH
lingo, a "minnow" is a stand-alone application which makes calls to
the "PHISH library"_Library.html to exchange data with other PHISH
minnows via its input and output ports.

The rmat minnow generates $N$ elements from an RMAT matrix of order
2^{Nlevel} in a random recursive fashion.  An RMAT matrix is a
randomized sparse matrix whose structure can be tailored by the input
parameters {a}, {b}, {c}, and {d}.  The matrix is of order 2^{Nlevel}
and an element is represented by the I,J indices of the row and column
it is in.  The I,J values can also be interpreted as an edge in a
sparse graph between vertices I and J, where the vertices are numbered
from 1 to 2^{Nlevel} inclusive.

The utility of RMAT matrices for describing graphs of various
kinds is discussed in "(Smith)"_#Smith.

[Ports:]

The rmat minnow uses no input ports.  It uses one output port 0 to
send datums.

[Operation:]

The rmat minnow generates {N} matrix elements and sends each as a
datum to its output port 0.  Each datum has 2 fields, which are the I
and J of the row and column of the matrix element.  I and J are both
integers from 1 to 2^{Nlevel} inclusive.

The method of generating I and J is recursive with {Nlevel} levels.
At each stage one of 4 quadrants of the "current" matrix is selected
randomly with relative probablities {a}, {b}, {c}, and {d}.  At the
first level, the current matrix is the entire matrix.  After selecting
a quadrant, that quadrant becomes the current matrix.  Thus as the
last level, a single I.J element is selected out of the original full
matrix.  The {twiddle} factor is used at each recursion level to
adjust {a}, {b}, {c}, and {d} by a random fractional amount while
keeping the sum of the 4 values = 1.0.  This has the effect of further
randomizing the distribution of generated matrix elements.

NOTE: better def of twiddle and is it 0 to 1?

[Data:]

Each datum the rmat minnow sends has a two fields each of type
PHISH_UINT64.

[Restrictions:] none

[Related minnows:] none

:line

NOTE: give citation for RMAT
