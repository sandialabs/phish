<HTML>
<CENTER><A HREF = "http://phish.sandia.gov">PHISH WWW Site</A> - <A HREF = "Manual.html">PHISH Documentation</A> - <A HREF = "Bait.html">Bait.py Commands</A> 
</CENTER>






<HR>

<H3>sort minnow 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>sort N 
</PRE>
<UL><LI>N = keep top N sorted values 
</UL>
<P><B>Examples:</B>
</P>
<PRE>sort 20 
</PRE>
<P><B>Description:</B>
</P>
<P>Sort is a PHISH minnow that can be used in a PHISH program.  In PHISH
lingo, a "minnow" is a stand-alone application which makes calls to
the <A HREF = "Library.html">PHISH library</A> to exchange data with other PHISH
minnows.
</P>
<P>The sort minnow receives counts of strings which it stores in a
list. When it shuts down it sorts the list by count, and sends the top
<I>N</I> counts and their associated strings.
</P>
<P><B>Ports:</B>
</P>
<P>The sort minnow uses one input port 0 to receive datums and one output
port 0 to send datums.
</P>
<P><B>Operation:</B>
</P>
<P>When it starts, the sort minnow calls the <A HREF = "phish_recv.html">phish_loop</A>
function.  Each time a datum is received on input port 0, its first
field is a count and its 2nd a string.  The count/string pairts are
stored in an internal table.  This is done via an STL "vector" in the
C++ version of sort, and via a "list" in the Python version of sort.
</P>
<P>The sort minnow shuts down when its input port is closed by receiving
a sufficient number of "done" messages.  This triggers the sort minnow
to sort the list of count/string pairs it has received.  It then sends
the top <I>N</I> results as datums to its ouput port 0.  Each datum
contains two fields. The first field is the count, the second is the
string.
</P>
<P>NOTE: would really be OK if received any kind of int?
Is there some way to check for this, so code doesn't
have to be too specific?
</P>
<P>NOTE: Could type of its 2nd value be ignored?
      Is a C++ vector issue, might also need way
      to copy single arbitrary field from recv buffer to input buffer
</P>
<P><B>Data:</B>
</P>
<P>The sort minnow must receive two-field datums of type (PHSIH_INT32,
PHISH_STRING).  It also send two-field datums of type (PHISH_INT32,
PHISH_STRING).
</P>
<P><B>Restrictions:</B> none
</P>
<P><B>Related minnows:</B>
</P>
<P><A HREF = "count.html">count</A>
</P>
</HTML>
